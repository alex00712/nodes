(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAdBaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDQtMDVUMTg6MzQ6MjMrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA0LTEwVDIyOjI3OjQzKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTEwVDIyOjI3OjQzKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDJmYWNkMTEtZjJhZC02NTRlLWE4MjQtM2M2ZjM4NjJmM2NiIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NjVkMTEyZTgtYjYyMS1iZDRiLTgwNGYtMDI5ODI3YzVjZjYwIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWI4MjkzNDAtZjBhMy1hODQ0LTliM2QtNjY4NDFkMDdkMWEwIj4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+QTgyQjk1MkZDMTU2MUQ2RTg1Q0E1OUJGMjZBMkVBOTU8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYjgyOTM0MC1mMGEzLWE4NDQtOWIzZC02Njg0MWQwN2QxYTAiIHN0RXZ0OndoZW49IjIwMjAtMDQtMDVUMTg6MzQ6MjMrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTk0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"},25:function(e,t,a){e.exports=a.p+"static/media/note.73317c04.png"},27:function(e,t,a){e.exports=a(40)},32:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(14),r=a.n(l),s=(a(32),a(2)),o=a(6),i=Object(n.createContext)({}),m=a(22),u=a.n(m),d=function(){var e=Object(n.useContext)(i);return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper teal darken-3"},c.a.createElement(o.b,{to:"/",className:"brand-logo left"},c.a.createElement("img",{src:u.a,alt:"logo"})),c.a.createElement("ul",{id:"nav-mobile",className:"right"},c.a.createElement("li",null,c.a.createElement(o.b,{to:"/create"},"Create")),c.a.createElement("li",null,c.a.createElement(o.b,{to:"/notes"},"Nodes")),c.a.createElement("li",null,c.a.createElement(o.b,{to:"/",onClick:function(t){t.preventDefault(),e.logout()}},"Logout")))))},p=function(){return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"30hv"}},c.a.createElement("div",{className:"preloader-wrapper big active"},c.a.createElement("div",{className:"spinner-layer spinner-green-only"},c.a.createElement("div",{className:"circle-clipper left"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"gap-patch"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"circle-clipper right"},c.a.createElement("div",{className:"circle"})))))},v=a(13),E=a(1),g=a.n(E),b=a(4),f=a(43),h=a(42),N=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),r=Object(s.a)(l,2),o=r[0],i=r[1];return{load:a,request:Object(n.useCallback)(function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,l,r,s,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:null,l=o.length>3&&void 0!==o[3]?o[3]:{},c(!0),n&&(n=JSON.stringify(n),l["Content-Type"]="application/json"),e.prev=5,e.next=8,fetch(t,{method:a,body:n,headers:l});case 8:return r=e.sent,e.next=11,r.json();case 11:if(s=e.sent,r.ok){e.next=16;break}return console.log(s.message||"something went wrong"),c(!1),e.abrupt("return",i(s.message));case 16:return c(!1),e.abrupt("return",s);case 20:throw e.prev=20,e.t0=e.catch(5),c(!1),console.log(e.t0),i(e.t0.message),e.t0;case 26:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(n.useCallback)((function(){return i(null)}),[])}},j=Object(n.createContext)({}),w=a(25),y=a.n(w),A=function(e){var t=N(),a=(t.load,t.request),n=Object(v.g)(),l=function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a("/api/notes/","DELETE",{id:n},{Authorization:"Bearer ".concat(e.token)}).then((function(){e.dispatch({type:"delete",payload:n})})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a("/api/notes/status","PUT",{id:n},{Authorization:"Bearer ".concat(e.token)}).then((function(){e.dispatch({type:"update",payload:n})})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("li",{style:{listStyleType:"none",backgroundColor:"#d6d6d6"},onClick:function(){n.push("/notes/".concat(e.params._id))}},c.a.createElement("div",{className:"col s12 m8 offset-m2 l6 offset-l3"},c.a.createElement("div",{className:"card-panel grey lighten-5 z-depth-1"},c.a.createElement("div",{className:"row valign-wrapper"},c.a.createElement("div",{className:"col s2",style:{minWidth:"80px"}},c.a.createElement("img",{src:y.a,alt:"",className:"circle responsive-img"})),c.a.createElement("div",{className:"col s8"},c.a.createElement("span",{className:"black-text"},c.a.createElement("span",{className:"title",style:{fontWeight:"bold",overflowWrap:"break-word"}},e.params.tytle),c.a.createElement("p",{style:{overflowWrap:"break-word"}},e.params.data))),c.a.createElement("div",{className:"col s1"},c.a.createElement("i",{className:"material-icons ".concat(e.params.checked?"checked_T":"checked_F"),style:{marginRight:"20px",cursor:"pointer",border:"1px solid black",borderRadius:"3px"},onClick:function(t){t.stopPropagation(),r(e.params._id)}},"check")),c.a.createElement("div",{className:"col s1"},c.a.createElement("i",{className:"material-icons",style:{cursor:"pointer"},onClick:function(t){t.stopPropagation(),l(e.params._id)}},"delete_sweep"))))))},k=function(){var e=Object(n.useContext)(j),t=e.state,a=e.dispatch,l=N(),r=l.load,s=l.request,o=Object(n.useContext)(i),m=Object(n.useCallback)(Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/api/notes/","GET",null,{Authorization:"Bearer ".concat(o.token)});case 2:(t=e.sent)&&(console.log(t.links),a({type:"load-all",payload:t.links}));case 4:case"end":return e.stop()}}),e)}))),[o.token]);return Object(n.useEffect)((function(){console.log("do"),m()}),[m]),!0===r?c.a.createElement(p,null):(console.log(t),c.a.createElement(c.a.Fragment,null,0!==t.length?c.a.createElement(f.a,{component:"ui"},t.map((function(e){return c.a.createElement(h.a,{classNames:"onenode",appear:!0,timeout:500,key:e._id},c.a.createElement(A,{params:e,dispatch:a,token:o.token}))}))):c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 center middle"},"You have no node..."))))},O=a(10),x=a(11),I=function(e){console.log(e);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(),i=Object(s.a)(o,2),m=i[0],u=i[1],d=function(e){u(Object(x.a)({},m,Object(O.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){e.note&&u({tytle:e.note.tytle,data:e.note.data})}),[e.note]),l?c.a.createElement("div",null,e.note&&c.a.createElement("div",{className:"col s12 m6"},c.a.createElement("div",{className:"card blue-grey darken-1"},c.a.createElement("div",{className:"card-content white-text"},c.a.createElement("div",{className:"row",style:{textAlign:"center"}},c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("textarea",{id:"textarea1",name:"tytle",className:"materialize-textarea",onChange:d},e.note.tytle))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("textarea",{id:"textarea2",name:"data",className:"materialize-textarea",onChange:d},e.note.data))),c.a.createElement("p",{style:{marginTop:"20px",fontSize:"10px",textAlign:"right"}},new Date(parseInt(e.note.date)).toLocaleString())),c.a.createElement("div",{className:"card-action"},c.a.createElement("button",{className:"btn waves-effect waves-light green accent-4 center",onClick:function(){e.update({id:e.note._id,tytle:m.data,data:m.tytle,date:Date.now()})}},"Save",c.a.createElement("i",{className:"material-icons right"},"attachment")))))):c.a.createElement("div",null,e.note&&c.a.createElement("div",{className:"col s12 m6"},c.a.createElement("div",{className:"card blue-grey darken-1"},c.a.createElement("div",{className:"card-content white-text"},c.a.createElement("span",{className:"card-title",style:{textAlign:"center"}},e.note.tytle),c.a.createElement("hr",null),c.a.createElement("p",null,e.note.data),c.a.createElement("p",{style:{marginTop:"20px",fontSize:"10px",textAlign:"right"}},new Date(parseInt(e.note.date)).toLocaleString())),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s6 center",style:{marginBottom:"10px"}},c.a.createElement("button",{className:"btn waves-effect waves-light lime darken-3",onClick:function(){r(!0)}},"Change",c.a.createElement("i",{className:"material-icons right"},"border_color"))),c.a.createElement("div",{className:"col s6 center",style:{marginBottom:"10px"}},c.a.createElement("button",{className:"btn waves-effect waves-light red accent-4 ",onClick:function(){e.delete(e.note._id)}},"Delete",c.a.createElement("i",{className:"material-icons right"},"delete_sweep")))))))},M=function(){var e=Object(v.g)(),t=Object(n.useContext)(i),a=N(),l=a.request,r=a.load,o=Object(n.useState)(null),m=Object(s.a)(o,2),u=m[0],d=m[1],E=Object(v.h)().id,f=Object(n.useCallback)(Object(b.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("/api/notes/".concat(E),"GET",null,{Authorization:"Bearer ".concat(t.token)});case 3:a=e.sent,d(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);Object(n.useEffect)((function(){f()}),[t.token,E,l]);var h=function(){var a=Object(b.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l("/api/notes/","DELETE",{id:n},{Authorization:"Bearer ".concat(t.token)}).then((function(){e.push("/notes")})).catch((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("/api/notes/card","PUT",a,{Authorization:"Bearer ".concat(t.token)}).then((function(){f()})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r?c.a.createElement(p,null):c.a.createElement("div",null,c.a.createElement(I,{note:u,delete:h,update:j}))},C=function(){var e=N().request,t=Object(n.useContext)(i),a=Object(v.g)(),l=Object(n.useState)({tytle:"",text:""}),r=Object(s.a)(l,2),o=r[0],m=r[1],u=function(e){m(Object(x.a)({},o,Object(O.a)({},e.target.name,e.target.value)))},d=function(){var n=Object(b.a)(g.a.mark((function n(){var c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.tytle||!o.text){n.next=11;break}return n.prev=1,n.next=4,e("/api/notes/create","POST",{data:o.text,tytle:o.tytle},{Authorization:"Bearer ".concat(t.token)});case 4:c=n.sent,console.log("without a picture"),a.push("/notes/".concat(c.data._id)),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(1);case 11:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("div",{style:{textAlign:"center",fontSize:"2rem",paddingTop:"10px"}},"Create new note"),c.a.createElement("div",{className:"border teal lighten-5"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s6"},c.a.createElement("textarea",{id:"textarea1",name:"tytle",className:"materialize-textarea",onChange:u}),c.a.createElement("label",null,"TYTLE"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("textarea",{id:"textarea2",name:"text",className:"materialize-textarea",onChange:u}),c.a.createElement("label",null,"Text"))),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("button",{className:"btn waves-effect waves-light col s2 offset-5s",onClick:d},"Create",c.a.createElement("i",{className:"material-icons right"},"add_to_photos")))))},Z=function(){return Object(n.useCallback)((function(e){window.M&&e&&window.M.toast({html:e})}),[])},G=function(){var e=Z(),t=Object(n.useContext)(i),a=N(),l=(a.load,a.request),r=a.error,m=a.clearError,u=Object(n.useState)({login:"",pass:"",confirmPass:""}),d=Object(s.a)(u,2),p=d[0],v=d[1],E=Object(n.useState)({login:" ",pass:" ",confirmPass:" ",isFormValid:!1}),f=Object(s.a)(E,2),h=f[0],j=f[1],w=function(e){v(Object(x.a)({},p,Object(O.a)({},e.target.name,e.target.value))),A(e.target.name,e.target.value)},y=function(e){A(e.target.name,e.target.value)},A=function(e,t){var a=h.login,n=h.pass,c=h.confirmPass,l=h.isFormValid,r=function(e){return" "!==e&&!1!==e};switch(e){case"login":a=""!==t;break;case"pass":n=!(t.length<6);break;case"confirmPass":c=t===p.pass}l=r(a)&&r(n)&&r(c),j({login:a,pass:n,confirmPass:c,isFormValid:l})},k=function(){var a=Object(b.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l("/api/auth/register","POST",{login:p.login,pass:p.pass},{});case 2:(n=a.sent)&&(console.log(n),e(n.message),setTimeout((function(){t.login(n.token,n.userId)}),500));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){e(r),m()}),[r,e,m]),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 offset-m2 l8 offset-l2 "},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s10 offset-s1"},c.a.createElement("i",{className:"material-icons prefix"},"account_circle"),c.a.createElement("input",{name:"login",type:"text",className:h.login?"validate":"invalid",onChange:w,onFocus:y}),c.a.createElement("label",{className:"active",htmlFor:"login"},"login"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s10 offset-s1 "},c.a.createElement("i",{className:"material-icons prefix"},"vpn_key"),c.a.createElement("input",{name:"pass",type:"password",className:h.pass?"validate":"invalid",onChange:w,onFocus:y}),c.a.createElement("label",{className:"active",htmlFor:"pass"},"password"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s10 offset-s1 "},c.a.createElement("i",{className:"material-icons prefix"},"vpn_key"),c.a.createElement("input",{name:"confirmPass",type:"password",className:h.confirmPass?"validate":"invalid",onChange:w,onFocus:y}),c.a.createElement("label",{className:"active",htmlFor:"pass"},"confirm password"))),c.a.createElement("div",{className:"row"},c.a.createElement("button",{className:"btn waves-effect waves-light col s10 offset-s1",disabled:!h.isFormValid,onClick:k},"Registrate")),c.a.createElement("div",{className:"card-action",style:{textAlign:"right"}},c.a.createElement(o.b,{to:"auth"},"Log in >")))))},T=(a(38),function(){var e=Object(n.useContext)(i),t=Z(),a=N(),l=(a.load,a.request),r=a.error,m=a.clearError,u=Object(n.useState)({login:"",pass:""}),d=Object(s.a)(u,2),p=d[0],v=d[1],E=Object(n.useState)(!1),f=Object(s.a)(E,2),h=f[0],j=f[1],w=Object(n.useState)({login:" ",pass:" ",isFormValid:!1}),y=Object(s.a)(w,2),A=y[0],k=y[1],I=function(e){v(Object(x.a)({},p,Object(O.a)({},e.target.name,e.target.value))),C(e.target.name,e.target.value)},M=function(e){C(e.target.name,e.target.value)},C=function(e,t){var a=A.login,n=A.pass,c=A.isFormValid,l=function(e){return" "!==e&&!1!==e&&e};switch(e){case"login":a=""!==t;break;case"pass":n=!(t.length<6)}return c=l(a)&&l(n),console.log(a,n,c),k({login:a,pass:n,isFormValid:c})},G=function(){var t=Object(b.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l("/api/auth/login","POST",Object(x.a)({},p),{});case 2:(a=t.sent)&&e.login(a.token,a.userId);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){t(r),m()}),[r,t,m]),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m8 offset-m2 l8 offset-l2 "},c.a.createElement("div",{className:"card "},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s10 offset-s1"},c.a.createElement("i",{className:"material-icons prefix"},"account_circle"),c.a.createElement("input",{name:"login",type:"text",className:A.login?"validate":"invalid",value:p.login,onChange:I,onFocus:M}),c.a.createElement("label",{className:"active",htmlFor:"login"},"login"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s10 offset-s1 "},c.a.createElement("i",{className:"material-icons prefix",onClick:function(){return j(!h)}},h?"visibility":"visibility_off"),c.a.createElement("input",{name:"pass",type:h?"text":"password",className:A.pass?"validate":"invalid",onChange:I,onFocus:M}),c.a.createElement("label",{className:"active",htmlFor:"pass"},"password"))),c.a.createElement("div",{className:"row"},c.a.createElement("button",{className:"btn waves-effect waves-light col s10 offset-s1",disabled:!A.isFormValid,onClick:G},"Login")),c.a.createElement("div",{className:"card-action",style:{textAlign:"right"}},c.a.createElement(o.b,{to:"reg"},"Create an account >")))))}),D=function(e,t){switch(t.type){case"load-all":return e=t.payload;case"delete":return e.filter((function(e){return e._id!==t.payload}));case"update":return e.map((function(e){return e._id===t.payload&&(e.checked=!0),e}));default:return e}};a(39);var Y=function(){var e=Object(n.useReducer)(D,[]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),r=Object(s.a)(l,2),o=r[0],i=r[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),d=u[0],p=u[1],v=Object(n.useCallback)((function(e,t){c(e),i(t),localStorage.setItem("token",JSON.stringify({token:e,id:t}))}),[]),E=Object(n.useCallback)((function(){c(null),i(null),localStorage.removeItem("token")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("token"));e&&e.token&&(v(e.token,e.id),p(!0))}),[v]),{login:v,logout:E,token:a,userId:o,isReady:d}}(),m=r.login,u=r.logout,p=r.token,E=r.userId,g=(r.isReady,!!p),b=g?c.a.createElement(v.d,null,c.a.createElement(v.b,{path:"/notes",exact:!0},c.a.createElement(k,null)),c.a.createElement(v.b,{path:"/notes/:id",exact:!0},c.a.createElement(M,null)),c.a.createElement(v.b,{path:"/create",exact:!0},c.a.createElement(C,null)),c.a.createElement(v.a,{to:"/notes"})):c.a.createElement(v.d,null,c.a.createElement(v.b,{path:"/reg",exact:!0},c.a.createElement(G,null)),c.a.createElement(v.b,{path:"/auth",exact:!0},c.a.createElement(T,null)),c.a.createElement(v.a,{to:"/auth"}));return c.a.createElement(i.Provider,{value:{login:m,logout:u,token:p,userId:E,isAuth:g}},c.a.createElement(j.Provider,{value:{state:a,dispatch:l}},c.a.createElement(o.a,null,g&&c.a.createElement(d,null),c.a.createElement("div",{className:"container"},b))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.8f61eb87.chunk.js.map